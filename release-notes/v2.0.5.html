
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Release Notes for OpenPower Firmware v2.0.5 &#8212; OpenPOWER Firmware v2.3-rc2-138-g66f83ba0
 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Release Notes for OpenPower Firmware v2.0.6" href="v2.0.6.html" />
    <link rel="prev" title="Release Notes for OpenPower Firmware v2.0.4" href="v2.0.4.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="release-notes-for-openpower-firmware-v2-0-5">
<h1>Release Notes for OpenPower Firmware v2.0.5<a class="headerlink" href="#release-notes-for-openpower-firmware-v2-0-5" title="Permalink to this headline">¶</a></h1>
<p>op-build v2.0.5 was released on Thursday July 19th, 2018 and replaces op-build v2.0.4 as the current stable release in the 2.0.x series.</p>
<p>It is recommended that v2.0.4 be used over any previous v2.0.x version due to the bug fixes contained within.</p>
<div class="section" id="updated-packages">
<h2>Updated Packages<a class="headerlink" href="#updated-packages" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="18%" />
<col width="18%" />
<col width="45%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Package</th>
<th class="head">Old Version</th>
<th class="head">New Version</th>
<th class="head">Platforms</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>skiboot</td>
<td>v6.0.5</td>
<td>v6.0.6</td>
<td>openpower_mambo, firestone, firenze, garrison,
zaius, p9dsu, palmetto, pseries, vesnin,
witherspoon, habanero, openpower_p9_mambo, zz,
barreleye, romulus</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="skiboot-changes">
<h2>Skiboot changes<a class="headerlink" href="#skiboot-changes" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">phb4/CAPI: Reallocate PEC2 DMA-Read engines to improve GPU-Direct bandwidth</p>
<p>We reallocate additional 16/8 DMA-Read engines allocated to stack0/1
on PEC2 respectively. This is needed to improve bandwidth available to
the Mellanox CX5 adapter when trying to read GPU memory (GPU-Direct).</p>
<p>If kernel cxl driver indicates a request to allocate maximum possible
DMA read engines when calling enable_capi_mode() and card is attached
to PEC2/stack0 slot then we assume its a Mellanox CX5 adapter. We then
allocate additional 16/8 extra DMA read engines to stack0 and stack1
respectively on PEC2. This is done by populating the
XPEC_PCI_PRDSTKOVR and XPEC_NEST_READ_STACK_OVERRIDE as suggested by
the h/w team.</p>
</li>
<li><p class="first">phb4: Disable nodal scoped DMA accesses when PB pump mode is enabled</p>
<p>By default when a PCIe device issues a read request via the PHB it is first
issued with nodal scope. When accessing GPU memory the NPU does not know at the
time of response if the requested memory page is off node or not. Therefore
every read of GPU memory by a PHB is retried with larger scope which introduces
bandwidth and latency issues.</p>
<p>On smaller boxes which have pump mode enabled nodal and group scoped reads are
treated the same and both types of request are broadcast to one chip. Therefore
we can avoid the retry by disabling nodal scope on the PHB for these boxes. On
larger boxes nodal (single chip) and group (multiple chip) scoped reads are
treated differently. Therefore we avoid disabling nodal scope on large boxes
which have pump mode disabled to avoid all PHB requests being broadcast to
multiple chips.</p>
</li>
<li><p class="first">npu2/hw-procedures: Enable parity and credit overflow checks</p>
<p>Enable these error checking features by setting the appropriate bits in
our one-off initialization of each “NTL Misc Config 2” register.</p>
<p>The exception is NDL RX parity checking, which should be disabled during
the link training procedures.</p>
</li>
</ul>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">OpenPOWER Firmware</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction to OpenPOWER Firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing.html">Testing op-build</a></li>
<li class="toctree-l1"><a class="reference internal" href="../process/index.html">Development Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../boot-devices.html">Supported Boot Devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versioning.html">Version Scheme</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">op-build Release Notes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#v1-21">v1.21</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#v1-22">v1.22</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#v2-0">v2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#v2-1">v2.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#v2-2">v2.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#v2-3">v2.3</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">op-build Release Notes</a><ul>
      <li>Previous: <a href="v2.0.4.html" title="previous chapter">Release Notes for OpenPower Firmware v2.0.4</a></li>
      <li>Next: <a href="v2.0.6.html" title="next chapter">Release Notes for OpenPower Firmware v2.0.6</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, OpenPOWER Foundation System Software Work Group.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.9</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/release-notes/v2.0.5.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>